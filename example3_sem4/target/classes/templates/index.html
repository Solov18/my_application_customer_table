<!DOCTYPE html><html xml:lang="ru-ru" lang="ru-ru"><head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-touch-fullscreen" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="msapplication-tap-highlight" content="no">
	<link href="images/gm_ico.png" rel="shortcut icon">
   <!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>-->
	<!--<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<link href="https://fonts.googleapis.com/css?family=Neucha" rel="stylesheet">-->
	<script src="js/jquery.min.js"></script>
	<script src="js/jquery-noconflict.js"></script>
	<script src="js/jquery-migrate.min.js"></script>
	<!--<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>-->
    	
	<meta name="generator" content="Joomla! - Open Source Content Management">
	<title>Гильдия мастеров</title>
	<link href="favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon">
	<link rel="stylesheet" href="css/master-e9d21379ef7607166cd3820d72ae836b.css" type="text/css">
	<link rel="stylesheet" href="css/mediaqueries.css" type="text/css">
	<style type="text/css">

	</style>
	<script type="text/javascript">
window.setInterval(function(){var r;try{r=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}if(r){r.open("GET","/index.php?option=com_ajax&format=json",true);r.send(null)}},3600000);
	</script>
	<!--<script src="/templates/gantry/chosen/chosen.jquery.min.js" type="text/javascript"></script>
	<script src="/templates/gantry/js/jquery.json.js" type="text/javascript"></script>
	<script src="/templates/gantry/js/jquery.maskedinput.min.js" type="text/javascript"></script>-->
	<script src="js/jquery.noty.packaged.min.js" type="text/javascript"></script>
	<script src="js/jquery.nice-select.min.js" type="text/javascript"></script>
	<!--<script src="/templates/gantry/js/relax.js" type="text/javascript"></script>
	<script src="/templates/gantry/js/jquery.scrollTo.min.js" type="text/javascript"></script>
	<script src="/templates/gantry/js/jquery.validationEngine.js" type="text/javascript"></script>
	<script src="/templates/gantry/js/jquery.validationEngine-ru.js" type="text/javascript"></script>-->
	<script src="js/jquery.modal.min.js" type="text/javascript"></script>
	<script src="js/mask.js" type="text/javascript"></script>
	<script src="js/tether.min.js"></script>
	<script src="js/popup_actions.js" type="text/javascript"></script>

	<link rel="stylesheet" href="css/all.min.css">

	<!--<link rel="stylesheet" href="/templates/gantry/chosen/chosen.css">
	<link rel="stylesheet" href="/templates/gantry/fonts/gagalin.css">-->
	<link rel="stylesheet" href="css/cuprum.css">
	

	<link rel="stylesheet" href="css/bootstrap.min.css" crossorigin="anonymous">
	<script src="js/bootstrap.min.js" crossorigin="anonymous"></script>
</head>
<body class="logo-type-gantry headerstyle-dark font-family-helvetica font-size-is-default menu-type-dropdownmenu menu-dropdownmenu-position-header-b layout-mode-responsive col12 option-com-users">
	<style>
		.header_header {
			margin: 0;
		}
		.header_dealer_left {
			width: calc(50% - 10px);
			padding-top: 10px;
			margin-left: 10px;
			margin-bottom: 10px;
		}
		.header_dealer_left img {
			max-width: 170px;
		}
		.header_dealer_rigth {
			width: calc(50% - 10px);
			padding-top: 15px;
			text-align: right;
			margin-right: 10px;
		}
		#header_home {
			display: none;
		}
		#header_config {
			display: none;
		}
		#heder_exit {
			display: none;
		}
		@media screen and (min-width: 768px) {
			.header_dealer_left {
				width: calc(50% - 50px);
				margin-left: 50px;
			}
			.header_dealer_left img {
				max-width: 200px;
			}
			.header_dealer_rigth {
				width: calc(50% - 50px);
				margin-right: 50px;
			}
		}
		#toProfile {
			position: relative;
			width: 52px;
			height: 38px;
			display: inline-block;
			z-index: 2;
		}
		#toProfile .pix {
			position: absolute;
			right: -6px;
			top: -6px;
			width: 12px;
			height: 12px;
			border-radius: 6px;
			background-color: #ff3d3d;
		}
		#toProfile .message {
			position: absolute;
			right: 0;
			top: 50px;
			border-radius: .25rem;
			height: auto !important;
			max-width: 300px;
			padding: 10px;
			background-color: rgb(65,64,153);
			color: rgb(255,255,255);
			display: none;
			word-break: break-all;
		}
		#toProfile:hover .message {
			display: inline-block;
		}
		#toProfile .message:before {
			position: absolute;
			top: -25px;
			left: 415px;
			content: "➚";
			font-size: 14px;
			color: #414099;
		}
		@media screen and (min-width: 768px) {
			#toProfile .message {
				max-width: 1000px;
			}
		}
		.width_btn{
	    	width:100% !important;
	    }
	    .col_margin{
	    	margin-bottom: 1em !important;
	    	padding-left: 0px;
    		padding-right: 0px;
	    }
		.navbar {
		 	overflow: hidden;
		 	background-color: #FFFFFF;
		 	position: fixed !important;
		 	bottom: 0;
		 	width: 100%;
		 	padding-bottom: 0px;
		 	padding-left: 0px;
		 	padding-right: 0px;
		}
		.nav_item{
			cursor: pointer;
		    width: 20% !important;
		    text-align: center;
	        padding-left: 2px;
    		padding-right: 2px;
		}
		.nav-span{
			width: 58px;
			font-family: 'Open Sans';
			font-style: normal;
			font-weight: 600;
			font-size: 14px;
			color: #98B5E0;
		}
		.nav-img{
			height:28px;
		}
		.active-nav-span{
			color: #2C80BD !important;
		}
		.popup_window{
			display: none;
		}

		.title_div{
			text-align: left;
			padding-left: 2px;
			padding-right: 2px;
		}
		.title_text{
			font-family: 'Open Sans',sans-serif;
			font-style: normal;
			font-weight: 700;
			font-size: 18px;
			color: #404D66;
		}
		.login_type{
		    background: #2C80BD;
		    border-radius: 12px;
		    font-style: normal;
		    font-weight: 400;
		    color: #FFFFFF;
		}
		.type_title{
			font-weight: 700;
		}
		.type_dealer{
			color:lightgray;
		}
	</style>

	<div class="main_wrapper">
			<div class="modal_window_container" id="mw_container_h">
			<button type="button" class="close_btn" id="close_h"><i class="fa fa-times fa-times-tar" aria-hidden="true"></i></button>
		    <div class="modal_window bottom" id="mw_choose_h">
		        <div class="row title_div">
		            <div class="col-md-10 col-xs-10 center">
		                <span class="title_text">Выберите тип профиля</span>
		            </div>
		            <div class="col-md-2 col-xs-2 close" style="text-align:right;">
		                <img src="images/x_1.svg">
		            </div>
		        </div>
		        <div class="row">
			    	<div class="col-md-4"></div>
			    	<div class="col-md-4" id="roles_list_h">
			    					    	</div>
			    	<div class="col-md-4"></div>
			    </div>
		    </div>
		    <div class="modal_window bottom" id="mw_choose_catalog">
		        <img id="close_cat_choose" src="images/x_1.svg" style="position: absolute;top: 10px;right: 10px;">
		    	<div class="row center" style="margin-bottom:15px;">
		            <div class="col-md-12 col-xs-12">
		                <span class="dark-text">Выберите каталог</span>
		            </div>
		        </div>
		    	<div class="row">
			    	<div class="col-md-12 col-xs-12" style="margin-bottom:15px;">
				    	<a class="btn bl-btn" href="/index.php?opiton=com_gm_ceiling&amp;view=catalog&amp;type=goods">Каталог товаров</a>
				    </div>
			    	<div class="col-md-12 col-xs-12" style="margin-bottom:15px;">
			    		<a class="btn bl-btn" href="/index.php?opiton=com_gm_ceiling&amp;view=catalog&amp;type=jobs">Каталог работ</a>
			    	</div>
			    	<div class="col-md-12 col-xs-12" style="margin-bottom:15px;">
			    		<a class="btn bl-btn" href="/index.php?opiton=com_gm_ceiling&amp;view=nodes&amp;type=new">Каталог узлов</a>
			    	</div>
			    </div>
		    </div>
		</div>
						<div id="rt-drawer">
			<div class="rt-container">
								<div class="clear"></div>
			</div>
		</div>
						<div id="rt-transition">
			<div id="rt-mainbody-surround">
																												<div class="container">
					<div class="row">
						<div class="col-xs-12 col-md-12 bd-content">
							          
<div id="rt-main" class="mb12">
                <div class="rt-container">
                    <div class="rt-grid-12 ">
                                                						<div class="rt-block">
	                        <div id="rt-mainbody">
								<div class="component-content">
	                            	<style>
	#rt-transition{
		margin-bottom: 0px !important;
	}
	.rt-container{
		padding-top: 0px !important;
		padding-bottom: 0px !important;
	}
	body{
		font-family: 'Open Sans',sans-serif !important;
	}
	.no-hor-padding{
		padding-left: 0px;
		padding-right: 0px;
	}
	.first-row{
	    position: relative;
	    margin-top: 45px;
	    background: linear-gradient(360deg, #AEC4E5 0%, rgba(174, 196, 229, 0.00) 100%);
	}
	.Selects {
        display: inline-block;
        position: relative;
        float: left;
        width: 100%;
        height: 0;
        z-index: 2;
    }

   .Selects .Select {
        position: absolute;
        top: -1px;
        left: 0;
        display: inline-block;
        float: left;
        width: 100%;
        border: 1px solid rgb(169, 169, 169);
        border-top: 0;
        height: auto;
        background-color: rgb(54, 53, 127);
        color: rgb(255, 255, 255);
        max-height: 90px;
        overflow-y: scroll;
        overflow-x: hidden;
    }

    .Selects .Select .Item {
        display: inline-block;
        float: left;
        width: 100%;
        padding-left: 5px;
        height: auto;
        line-height: 25px;
        font-size: 14px;
        border-top: 1px solid rgb(255, 255, 255);
        cursor: pointer;
    }

    .Selects .Select .Item:hover {
        background-color: rgb(31, 30, 70);
    }
    .width_btn{
    	width:100% !important;

    }
    .col_margin{
    	margin-bottom: 1em !important;
    }

    /**/
    .container{
		margin-left: 0px !important;
		margin-right: 0px !important;
		padding-left: 0px;
		padding-right: 0px;
		width: 100%;
	}
	.bd-content{
		padding-left: 0px;
		padding-right: 0px;

	}
	.row{
		margin-left: 0px;
		margin-right: 0px;
	}

	.slide-title{
		color: #404D66;
		font-size: 50px;
		font-style: normal;
		font-weight: 600;
	    line-height: initial;
	}
	.connect_text_container{
		text-align: left;
		margin-top: 45px;
	}
	@media screen{
		.first-header-image{
			position: absolute;
			top:-5px;
			width: 100%;
			height: 185px;
			background-image: url(images/top2.svg);
			background-repeat: no-repeat;
		}
		.second-header-image{
			position: absolute;
			top:-5px;
			width: 100%;
			height: 185px;
			background-image: url(images/top1.svg);
			background-repeat: no-repeat;
		}
		.download_btn{
			background: linear-gradient(180deg, #50B6FF 0%, #3EA1E9 36.23%, #2C80BD 100%);
			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 32px;
			font-style: normal;
			font-weight: 600;
			width: 359px;
			height: 95px;
			text-align: left;
			border: none;
			border-radius: 20px;
			position: relative;
			line-height: normal;
			display: block;
			
		}

		.web_btn{
			width: 249px;
			height: 50.59px;
			border-radius: 7.905px;
			background: #F6C71C;
			color: #404D66;
			text-align: center;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
		}

		.main-title{
			color: #404D66;
			font-family: 'Open Sans',sans-serif;
			font-size: 64px;
			font-style: normal;
			font-weight: 700;
		}
		.main-title-blue{
			color: #2C80BD;
			font-family: 'Open Sans',sans-serif;
			font-size: 64px;
			font-style: normal;
			font-weight: 700;
		}
		.blue-title{
			color: #2C80BD;
			font-family: 'Open Sans',sans-serif;
			font-size: 36px;
			font-style: normal;
			font-weight: 400;
		}

		.list-item{
			color: #404D66;
			font-family: 'Open Sans',sans-serif;
			font-size: 24px;
			font-style: normal;
			font-weight: 400;
			line-height: normal;
		}
		.note{
			color: #404D66;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 400;
			line-height: normal;
		}
		.left{
			text-align: left;
		}
		.right{
			text-align: right;
		}
		.block-title{
			color: #404D66;
			text-align: center;
			font-family: 'Open Sans',sans-serif;
			font-size: 50px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
		}
		.ability{
			width: 355px;
			height: 390px;
			border-radius: 20px;
			border: 1px solid #2C80BD;
			display: inline-block;
			margin-right: 25px;
		}
		.ability-title{
			color: #404D66;
			font-family: "Open Sans", sans-serif;
			font-size: 36px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
		}
		.ability-description{
			color: #404D66;
			font-family: "Open Sans", sans-serif;
			font-size: 21px;
			font-style: normal;
			font-weight: 400;
		}
		.ab-img{
			margin-top: 47px;
			margin-bottom: 49px;
			height: 100px;
		}
		.ab-descriprion{
			height: 100px;
			margin-top: 12px;
			margin-bottom: 42px;
		}
		.btn-container{
			height: 100px;
			margin-bottom: 0px;
			display: none;
		}
		.round-btn{
			width: 62px;
			height: 62px;
			border:none;
			border-radius: 31px;
			background-image: url("images/arrow_right.svg");
			position: absolute;
			bottom: 20px;
		}
	    .horizontal_div{
	        width: 100%;
	        overflow-x: hidden;
	        float:left;
	    }
	    .horizontal_scroll{
	        width: 10000px;
	    }
	    .slide .list-item{
	    	font-size: 21px;
	    }
	    .slide img{
	    	margin-top: 10px;
	    	width: 29px;
	    	height: 21px;
	    }
	    .slide{
	    	display: none;
	    	background: linear-gradient(207deg, rgba(242, 245, 254, 0.00) 0%, #F2F5FE 100%);
	    	min-height: 750px;
	    	position: relative;
	    	height: fit-content;
	    }
	    .toggle_container{
	    	position: absolute;
	    	left:20px;
	    	bottom:0px;
	    	z-index: 1;
	    }
	    .toggle{
	    	display: inline-block;
	    	width: 10px;
	    	height: 10px;
	    	border: 1px solid #98B5E0;
	    	border-radius: 5px;
	    	cursor: pointer;
	    	margin-left: 5px;
	    	margin-right: 5px;
	    }
	    .active{
	    	background-color: #96A6BC;
	    	border:none;
	    }
	    .active_slide{
	    	display: block !important;
	    }
	    .footer-title{
	    	color: #FFF;
			text-shadow: 0px 2px 2px 0px rgba(0, 0, 0, 0.10);
			font-family:' Open Sans',sans-serif;
			font-size: 50px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
	    }
	    .footer-note{
	    	color: #AEC4E5;
			font-family: 'Open Sans',sans-serif;
			font-size: 20px;
			font-style: normal;
			font-weight: 400;
			line-height: normal;
	    }
	    .footer-name-inp{
	    	margin-top: 23px;
	    	height: 50px;
			border-radius: 6px;
			background: #FFF;
			width: 49%;
			border: none;
			margin-bottom: 10px;

	    }
	    .footer-email-inp{
	    	height: 50px;
			border-radius: 6px;
			background: #FFF;
			width: 49%;
			border: none;
			margin-bottom: 10px;
	    }
	    .footer-btn{
	    	color: #404D66;
			height: 50px;
			width: 200px;
			background-color:#F6C71C;
			border: none;
			border-radius: 15px;
			display: block;
			margin-left: auto;
			margin-right: auto;
	    }
	    .user_btn{
			width: 240px;
			height: 50px;
			border-radius: 10px;
			background: #98B5E0;
			border: none;
	    }
	    .dealer_btn{
			width: 240px;
			height: 50px;
			border-radius: 10px;
			border: 2px solid #98B5E0;
	    }
	    .menu{
	    	display: none;
	    	width: 80%;
			height: 70px;
			background: #F6C71C;
			position: absolute;
			right:0px;
			bottom: -35px;
	    }
	    .logo-title{
	    	color: #FFF;
	    	font-family: 'Open Sans',sans-serif;
	    	font-size: 13px;
	    	font-style: normal;
	    	font-weight: 600;
	    	line-height: normal;
	    	width: 100px;
	    }
 		.connect_row{
 			margin-top:260px;
 			height: 250px;
 			background: #404D66;
 		}
 		.connect_form{
			height: 380px;
		    border-radius: 20px;
		    background: linear-gradient(180deg, #3F506B 0%, #2D8ACC 100%);
		    margin-top: -190px;
 		}
 		.m_slide{
 			display: none !important;
 		}
 		.m_contacts{
 			display: none;
 		}
 		.auth_window{
 			display: none;
 			position: absolute;
 			top:0;
 			right:0;
 			width: 387px;
 			height: 761px;
 			background: linear-gradient(180deg, #404D66 0%, #2F84C3 100%);
 			z-index: 2;
 		}

 		.registration_window{
 			display: none;
 			position: absolute;
 			top:0;
 			right:0;
 			width: 387px;
 			height: 861px;
 			background: linear-gradient(180deg, #2F84C2 0%, #404E67 100%);
 			z-index: 2;
 		}

 		.yellow-btn{
			width: 247px;
			height: 47px;
			border-radius: 15.633px;
			background: #F6C71C;
			border: none;
			color: #404D66;
			text-align: center;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
 		}
 		.yellow-border-btn{
 			width: 247px;
			height: 47px;
			border-radius: 15.633px;
			border: 1px solid #F6C71C;
			color: #F6C71C;
			background: transparent;
			text-align: center;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
 		}
 		.input-title{
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
 		}
 		.angle{
 			color: #404D66;
			font-family: 'Open Sans',sans-serif;
			font-size: 12px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
			position: absolute;
		    top: 26px;
		    right: 0px;
		    rotate: 39deg;
 		}
 		.m_download{
 			display: none;
 		}
 		.footer-header{
			color: #404D66;
			font-size: 32px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
 		}

 		.footer-subheader{
			color: #404D66;
			font-size: 20px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
 		}
 		.copyright_info{
 			color: #404D66;
			font-size: 12px;
			font-style: normal;
			font-weight: 400;
			line-height: 15px;
			margin-bottom: 100px;
 		}

	}
	@media screen and (max-device-width:480px){
		.first-row{
			position: relative;
			margin-top: 20px;
			background: linear-gradient(360deg, #AEC4E5 0%, rgba(174, 196, 229, 0.00) 100%);
		}
		.first-header-image{
			position: absolute;
			top:-5px;
			width: 100%;
			height: 150px;
			background-image: url(images/first-header.svg);
			background-repeat: no-repeat;
		}
		.second-header-image{
			position: absolute;
			top:-5px;
			width: 100%;
			height: 150px;
			background-image: url(images/second-header.svg);
			background-repeat: no-repeat;
		}
		.main-title{
			color: #404D66;
			font-family: 'Open Sans',sans-serif;
			font-size: 32px;
			font-style: normal;
			font-weight: 700;
		}
		.main-title-blue{
			color: #2C80BD;
			font-family: 'Open Sans',sans-serif;
			font-size: 32px;
			font-style: normal;
			font-weight: 700;
		}
		.blue-title {
		    color: #2C80BD;
		    font-family: 'Open Sans',sans-serif;
		    font-size: 32px;
		    font-style: normal;
		    font-weight: 400;
 		}
 		.menu{
 			display: none;
 		}
 		.logo-title{
			width: 81px;
			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 10px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
 		}
 		.web_btn{
 			width: 164px;
			height: 33px;
			border-radius: 5px;
			background: #F6C71C;
 		}
 		.all_in_one{
 			margin-top: 70px;
 		}
 		.download_btn{
 			width: 100%;
			height: 95px;
			fill: linear-gradient(172deg, #2C80BD 0%, #3EA1E9 31.65%, #2C80BD 100%);
			filter: drop-shadow(0px 4px 15px rgba(0, 0, 0, 0.25));
			color: #FFF;
			border-radius: 20px;
			font-family: 'Vollkorn',sans-serif;
			font-size: 32px;
			font-style: normal;
			font-weight: 600;
			line-height: 38px;
			display: block;
 		}
 		.note{
			color: #404D66;
			font-family: 'Open Sans';
			font-size: 16px;
			font-style: normal;
			font-weight: 400;
			line-height: normal
 		}
 		.block-title,.slide-title{
		    font-size: 36px;

 		}
 		.list-item{
 			font-size: 20px;
 		}
 		.ability{
 			width: 138px;
			height: 139px;
			border-radius: 20px;
			border: 1px solid #2C80BD;
			text-align: center;
 		}
 		.ab-img {
 			margin-top: 12px;
 			margin-bottom: 10px;
 			height: 81px;
 		}
 		.ab-img img{
 			height: 81px;
 		}
 		.ab-descriprion,.btn-container{
 			display: none;
 		}
 		.ability-title{
 			font-size: 20px;
 		}
 		.user_btn{
 			margin-top: 50px;
 			margin-bottom: 10px;
 			width: 100%;
			height: 58px;
			background-color: #2C80BD;
			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
			border-radius: 15px;
 		}
 		.dealer_btn{
 			width: 100%;
			height: 58px;
			border:1px solid #2C80BD;
 			color: #2C80BD;
			text-align: center;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
			border-radius: 15px;
			margin-bottom: 55px;
 		}
 		.slider-container{
 			background: linear-gradient(180deg, #2E8ACD 0%, #404F6A 100%);
 			height: 670px;
 		}
 		.slide{
			display: none !important;
	    	border-radius: 20px;
			border: 1px solid #FFF;
			background: rgba(255, 255, 255, 0.10);
 		}
 		
 		.toggle_container{
 			left: 37%;	
 			right: 35%;
 			margin-bottom: 20px;
 		}
 		.slide-title{
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 36px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
 		}
 		.m_slide{
 			display: none !important;
 			width: 100%;
			height: 562px;
			border-radius: 20px;
			border: 1px solid #FFF;
			background: rgba(255, 255, 255, 0.10);
			margin-top: 20px !important;
 		}
 		.list-item{
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 400;
			line-height: normal;
 		}
 		.active_slide{
 			display: block !important;
 		}
 		.connect_row{
 			height: auto;
 			background: transparent;
	    	margin-top: 130px !important;
 		}
 		.connect_form{
			width: 95%;
			height: 425px;
			border-radius: 20px;
			background: #2C80BD;
			text-align: center !important;
			padding-top: 20px;
			margin-left: auto;
    		margin-right: auto;
 			margin-top: -80px;
 		}
 		.footer-title{
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 32px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
			margin-top: 15px;
 		}
 		.footer-note{
 			color: #AEC4E5;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 400;
			line-height: normal;

 		}
 		.footer-name-inp{
 			width: 100%;
 			height: 40px;
			border-radius: 6px;
			background: #FFF;
 		}
 		.footer-email-inp{
 			width: 100%;
			height: 40px;
			border-radius: 6px;
			background: #FFF;
			margin-top: 15px;
 		}
 		.footer-btn{
			width: 247px;
			height: 47px;
			border-radius: 15px;
 		}
 		.contacts{
 			display: none !important;
 		}
 		.m_contacts{
 			height: 458px;
			background: #404D66;
 		}
 		.contacts_title{
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 40px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
 		}
 		.phone{
			color: #F6C71C;
			font-family: 'Open Sans',sans-serif;
			font-size: 28px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
 		}
 		.email{
			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 24px;
			font-style: normal;
			font-weight: 400;
			line-height: normal;
 		}
 		.copyright{
 			color: #FFF;
			font-family: 'Open Sans', sans-serif;
			font-size: 18px;
			font-style: normal;
			font-weight: 600;
			line-height: 26px; /* 144.444% */
 		}
 		.copyright_info{
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 12px;
			font-style: normal;
			font-weight: 400;
 		}
 		.m_download{
 			margin-top: 40px !important;
 			margin-bottom: 80px !important;
 		}
 		.m_download_btn{
 			position: relative;
 			width: 100%;
 			height: 95px;
 			background:linear-gradient(180deg, #50B6FF 0%, #3EA1E9 36.23%, #2C80BD 100%);
 			border-radius: 20px;
 			border: none;
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 36px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
			text-align: left;
			display: block;
 		}
 		.angle{
 			color: #404D66;
			font-family: 'Open Sans',sans-serif;
			font-size: 12px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
			position: absolute;
		    top: 26px;
		    right: 0px;
		    rotate: 39deg;
 		}
 		.auth_window{
 			display: none;
 			position: absolute;
 			top:0;
 			right:0;
 			width:90%;
 			height: 761px;
 			background: linear-gradient(180deg, #404D66 0%, #2F84C3 100%);
 			z-index: 2;
 		}

 		.registration_window{
 			display: none;
 			position: absolute;
 			top:0;
 			right:0;
 			width:90%;
 			height: 861px;
 			background: linear-gradient(180deg, #2F84C2 0%, #404E67 100%);
 			z-index: 2;
 		}

 		.yellow-btn{
			width: 247px;
			height: 47px;
			border-radius: 15.633px;
			background: #F6C71C;
			border: none;
			color: #404D66;
			text-align: center;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
 		}
 		.yellow-border-btn{
 			width: 247px;
			height: 47px;
			border-radius: 15.633px;
			border: 1px solid #F6C71C;
			color: #F6C71C;
			background: transparent;
			text-align: center;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 600;
			line-height: normal;
 		}
 		.input-title{
 			color: #FFF;
			font-family: 'Open Sans',sans-serif;
			font-size: 16px;
			font-style: normal;
			font-weight: 700;
			line-height: normal;
 		}
 		.connect_text_container{
 			text-align: center;
 			margin-top: 00px;
 		}
 	}
    .explanation{
    	color: #FFFFFF;
    	font-family: 'Open Sans',sans-serif;
    	font-size: 12px;
    	font-style: normal;
    	font-weight: 400;
    	line-height: 0.9em !important;
    }
    /**/
    .bottom{
	    height: fit-content;
	    width: 75%;
	    position: fixed;
	    bottom: 0;
	    top: auto;
	    left: 15%;
	    margin-left: auto;
	    margin-right: auto;
	    border-top-left-radius: 10px;
	    border-top-right-radius: 10px;
	    transform: none;
	}

	@media (max-width: 767px){
	    .bottom{
	        width: 100%;
	        left: 0;
	    }
	}
	.login_type{
	    background: #2C80BD;
	    border-radius: 12px;
	    font-style: normal;
	    font-weight: 400;
	    color: #FFFFFF;
	}
	.type_title{
		font-weight: 700;
	}
	.type_dealer{
		color:lightgray;
	}
}
</style>
<div class="modal_window_container" id="mv_container">
    <button type="button" class="close_btn" id="close"><i class="fa fa-times fa-times-tar" aria-hidden="true"></i></button>
    <div class="modal_window" id="modal_window_register">
		<p><strong id="rec_header">�&nbsp;егистрация</strong></p>
		<p><label>Номер телефона:</label></p>
		<p><input type="text" id="phone" class="input-gm" required=""></p>
		<p><label>Адрес эл.почты:</label></p>
		<p><input type="text" id="email" class="input-gm" required=""></p>
		<p><label>Имя:</label></p>
		<p><input type="text" id="name" class="input-gm" required=""></p>
		<p><label>Город:</label></p>
		<p><input type="text" id="city" class="input-gm" required=""></p>
		<p><button type="button" id="register_btn" class="btn btn-primary">Зарегистрироваться</button></p>
    </div>
    <div class="modal_window bottom" id="mw_choose">
        <div class="row title_div">
            <div class="col-md-10 col-xs-10 center">
                <span class="title_text">Выберите тип профиля</span>
            </div>
            <div class="col-md-2 col-xs-2 close" style="text-align:right;opacity: 1 !important;">
                <img src="images/x_1.svg">
            </div>
        </div>
    	<div class="col-md-4"></div>
    	<div class="col-md-4" id="roles_list">
    		
    	</div>
    	<div class="col-md-4"></div>
    </div>
</div>
	<div class="auth_window">
		<div class="row">
			<div class="col-md-12 col-xs-12 right" style="margin-top:20px;">
				<img src="images/x.svg" id="close_auth">
			</div>
		</div>
		<div class="row" style="margin-top:20px;margin-bottom: 24px;">
			<div class="col-md-12 col-xs-12 left">
				<span class="footer-title">Вход в личный кабинет</span>
			</div>
		</div>
		<div class="row">
			<form id="form_login" action="/index.php?option=com_users&amp;task=user.login" method="post">
				<div class="col-md-12 col-xs-12">
					<input name="username" class="form-control" placeholder="Логин" id="username">
				</div>
				<div class="col-md-12 col-xs-12" style="margin-top:24px;">
					<input type="password" name="password" class="form-control" placeholder="Пароль" id="password">
				</div>
			</form>
		</div>
		<div class="row center" style="margin-top:36px;">
			<div class="col-md-12 col-xs-12">
				<button class="yellow-btn" id="login_btn">Войти</button>
			</div>
			<div class="col-md-12 col-xs-12" style="margin-top:22px;">
				<button class="yellow-border-btn" id="show_reg_btn">�&nbsp;егистрация</button>
			</div>
		</div>
	</div>
	<div class="registration_window">
		<div class="row">
			<div class="col-md-12 col-xs-12 right" style="margin-top:20px;">
				<img src="images/x.svg" id="close_registration">
			</div>
		</div>
		<div class="row" style="margin-top:26px;margin-bottom: 11px;">
			<div class="col-md-12 col-xs-12 left">
				<span class="footer-title">�&nbsp;егистрация</span>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 col-xs-12" style="margin-top:21px;">
				<span class="input-title">ФИО</span>
			</div>
			<div class="col-md-12 col-xs-12" style="margin-top:9px;">
				<input class="form-control" id="fio">
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 col-xs-12" style="margin-top:21px;">
				<span class="input-title">Телефон</span>
			</div>
			<div class="col-md-12 col-xs-12" style="margin-top:9px;">
				<input class="form-control" id="phone_client">
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 col-xs-12" style="margin-top:21px;">
				<span class="input-title">Пароль</span>
			</div>
			<div class="col-md-12 col-xs-12" style="margin-top:9px;">
				<input class="form-control" id="pass_client">
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 col-xs-12" style="margin-top:21px;">
				<span class="input-title">E-mail</span>
			</div>
			<div class="col-md-12 col-xs-12" style="margin-top:9px;">
				<input class="form-control" id="dealer_email">
			</div>
		</div>
		<div class="row">
			<div class="col-md-12 col-xs-12" style="margin-top:21px;">
				<span class="input-title">Город</span>
			</div>
			<div class="col-md-12 col-xs-12" style="margin-top:9px;">
				<input class="form-control" id="dealer_city">
			</div>
		</div>
		<div class="row" style="display:none;">
			<div class="col-md-10 col-xs-10">
				<input type="checkbox" id="isDealer" checked="" style="display:none">
				<!-- <span class="input-title">Зарегистрироваться как дилер</span> -->
			</div>
			<!-- <div class="help">
        		<span class="airhelp">Если Вы занимаетесь установкой натяжных потолков, отметьте данный пункт</span>
        	</div> -->
		</div>
		<div class="row">
			<div class="col-md-12 col-xs-12" style="margin-top:22px;">
				<button class="yellow-btn" id="do_login" style="width:100%">Зарегистрироваться</button>
			</div>
		</div>
		<div class="row center" style="margin-top:36px;display: none;">
			<div class="col-md-12 col-xs-12">
				<button class="yellow-btn" style="width:100%" id="get_pass">Получить код подтверждения</button>
				<span style="padding-top: 10px;" class="explanation">На указанный номер поступит звонок, в котором будет  продиктован код подтверждения</span>
			</div>
			<div class="col-md-12 col-xs-12" id="pass_block" style="display: none;margin-top:21px;">
				<div class="col-md-12 col-xs-12">
					<span class="input-title">
						Введите код подтверждения
					</span>
				</div>				
				<div class="col-md-12 col-xs-12" style="padding-left:0px;padding-right: 0px;">
    				<input id="pass" class="form-control">
    			</div>
				<div class="col-xs-12 col-md-12">
					<span class="explanation" id="resending"></span> 
				</div>
			</div>
			<div class="col-md-12 col-xs-12" style="margin-top:22px;">
				<button class="yellow-border-btn" id="do_login" style="width:100%">Зарегистрироваться</button>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="first-header-image"></div>
		<div class="second-header-image"></div>
		<div class="col-md-1 col-xs-0"></div>
		<div class="col-md-10 col-xs-12 no-hor-padding">
			<div class="col-md-3 col-xs-10">
				<div class="col-md-4 col-xs-3 center">
					<img src="images/logo.svg" style="height: 90px;">
				</div>
				<div class="col-md-6 col-xs-4" style="line-height: normal !important;padding-top: 15px;padding-left: 5px;">
					<span class="logo-title">Планировщик и калькулятор ремонта</span>
				</div>
			</div>
			<div class="col-md-9 col-xs-12 right">
				<div class="col-xs-6 col-md-6"></div>
				<div class="col-md-6 col-xs-6" style="padding-right:0px;margin-top: 20px;">
					<span style="color: #404D66;font-family: 'Open Sans',sans-serif;font-size: 16px;font-style: normal;font-weight: 600;line-height: normal;">Web-версия</span>
				</div>
				<div class="col-md-12 col-xs-12" style="padding-right:0px;">
					<button class="btn web_btn">Вход</button>
				</div>
			</div>
		</div>
		<div class="col-md-1 col-xs-0"></div>
	</div>
	<div class="row first-row">
		<div class="col-md-1 col-xs-0"></div>
		<div class="col-md-10 col-xs-12">
			<div class="row ">


	</div>
<link rel="stylesheet" href="css/intlTelInput.css" ?="">
<script src="js/intlTelInput.js"></script>
<script type="text/javascript" src="js/horizontal_scroll.js"></script>
<script>
	jQuery(document).mouseup(function (e){ // событие клика по веб-документу
		var div = jQuery("#modal_window_register"),
			div1 = jQuery('#mw_choose'); // тут указываем ID элемента
		if (!div.is(e.target) // если клик был не по нашему блоку
		    && div.has(e.target).length === 0
		    && !div1.is(e.target)
		    && div1.has(e.target).length === 0) { // и не по его дочерним элементам
				jQuery("#mv_container").hide();
				jQuery("#modal_window_register").hide();
				jQuery("#close").hide();
		}
	});


    var url_getparams = window
        .location
        .search
        .replace('?','')
        .split('&')
        .reduce(
            function(p,e){
                var a = e.split('=');
                p[ decodeURIComponent(a[0])] = decodeURIComponent(a[1]);
                return p;
            },
            {}
        );


	jQuery(document).ready(function(){
		var isMobile = false; //initiate as false
		// device detection
		if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)
		    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))) {
		    isMobile = true;
		}
		var toggles = jQuery('.toggle');

		jQuery('.toggle').click(function(){
			var toggle = jQuery(this),
				className = isMobile ? '.m_slide' : '.slide' ,
				slideId = toggle.data('slide');
				if(isMobile){
					slideId = 'm_'+slideId;
				}
				jQuery('.toggle').removeClass('active');
				toggle.addClass('active');
				jQuery(className).removeClass('active_slide');
				jQuery("#"+slideId).addClass('active_slide');
		});
		jQuery( window ).on( "swipe", function( event ) { alert(1); } )

		jQuery(toggles[0]).trigger('click');

		jQuery('.web_btn').click(function(){
			jQuery('.auth_window').show();

		});

		jQuery('#close_auth').click(function(){
			jQuery('.auth_window').hide();
		});

		jQuery('#close_registration').click(function(){
			jQuery('.registration_window').hide();
		});



		jQuery('#show_reg_btn').click(function(){
			jQuery('.auth_window').hide();
			jQuery('.registration_window').show();
		});

		document.getElementById('slider-container').addEventListener('touchstart', handleTouchStart, false);
		document.getElementById('slider-container').addEventListener('touchmove', handleTouchMove, false);

		/*jQuery('body').on('touchstart','.slider-container',handleTouchStart);
		jQuery('body').on('touchstart','.slider-container', handleTouchStart);*/
		var xDown = null,
			yDown = null;

		function getTouches(evt) {
		  return evt.touches ||             // browser API
		         evt.originalEvent.touches; // jQuery
		}

		function handleTouchStart(evt) {
		    const firstTouch = getTouches(evt)[0];
		    xDown = firstTouch.clientX;
		    yDown = firstTouch.clientY;
		};

		function handleTouchMove(evt) {
		    if (!xDown || ! yDown) {
		        return;
		    }
		    var xUp = evt.touches[0].clientX,
	    		yUp = evt.touches[0].clientY;
		    	xDiff = xDown - xUp,
		    	yDiff = yDown - yUp;
				className = isMobile ? '.m_slide' : '.slide' ,
				slides = jQuery(className),
				index = 0;
			jQuery.each(slides,function(i,slide){
				if(jQuery(slide).hasClass('active_slide')){
					index = i;
				}
			})
			if ( Math.abs( xDiff ) > Math.abs( yDiff ) ){
		        if ( xDiff > 0 ) {
		            /* right swipe */
		            if(index < slides.length-1){
		            	index++;
		            }
		        } else {
		            /* left swipe */
		            if(index > 0){
		            	index--;
		            }
		        }
		    }
			jQuery(className).removeClass('active_slide');
        	jQuery(slides[index]).addClass('active_slide');
        	jQuery('.toggle').removeClass('active');
        	jQuery(jQuery('.toggle')[index]).addClass('active');
		    /* reset values */
		    xDown = null;
		    yDown = null;

		};


		var SEND_PERIOD = 90000; // 5 минут в миллисекундах

		var sendTime = localStorage.getItem('sendTime'),
			date = new Date(),
			currentTime = date.getTime(),
			phone = localStorage.getItem('phone'),
			fio = localStorage.getItem('fio');
		if(!empty(sendTime)){
			var leftTime = currentTime - sendTime;
			console.log(leftTime);
			if(leftTime > SEND_PERIOD){
				localStorage.removeItem('sendTime');
				localStorage.removeItem('phone');
				localStorage.removeItem('fio');
			}
			else{
				jQuery("#fio").val(fio);
				jQuery("#phone_client").val(phone);
				jQuery('#pass_block').show();
				jQuery('#get_pass').prop('disabled',true);
				countDown(90-(leftTime*0.001).toFixed(0));
			}
		}
		jQuery(".airhelp").hide();

		jQuery('body').on('mouseenter','.question',function(){
			jQuery(".airhelp").show();
		});

		jQuery('body').on('mouseleave','.question',function(){
			jQuery(".airhelp").hide();
		});

    	window.intlTelInput( document.querySelector("#phone_client"), {
    		initialCountry: "auto",
    		separateDialCode : true,
			geoIpLookup: function(callback) {
			    jQuery.get('https://ipinfo.io', function() {}, "jsonp").always(function(resp) {
			    	var countryCode = (resp && resp.country) ? resp.country : "ru";
			      		callback(countryCode);
			    	});
			  	},
	      	utilsScript: "templates/gantry/js/intl-tel/js/utils.js",
	    });

	    //jQuery('#phone_client').closest('.iti').css('width','90%');
	  	jQuery('.airhelp').css('left','-250px');
		//jQuery("#phone").mask('+7 (999) 999-99-99');
		//jQuery("#phone_client").mask('+7 (999) 999-99-99');
		jQuery("#phone_client").focusin(function(){
			var pl = jQuery(this).attr('placeholder');
			pl = pl.replace(new RegExp("[0-9]", "g"), "9")
			jQuery(this).mask(pl);
			console.log(pl);
		});

		jQuery("#isDealer").change(function(e){
			jQuery("#additional").toggle();
		});

		jQuery("#do_login").click(function(){
			register();
/*			var code = jQuery('.iti__selected-dial-code').text(), 
				phone = code + ' '+ jQuery('#phone_client').val();
			phone = phone.replace(/[^\d]/g, "");
			jQuery.ajax({
                type: 'POST',
                url: '/index.php?option=com_gm_ceiling&task=users.checkCode',
                dataType: "json",
                timeout: 20000,
                data: {
                    phone: phone,
                    code: jQuery('#pass').val(),
                },
                async: true,
                success: function(data){
                	if(data.type == 'error'){
                		noty({
							theme: 'relax',
							timeout: 2000,
							layout: 'center',
							maxVisible: 5,
							type: "error",
							text: data.data
						});
                	}
                	else{
                		localStorage.removeItem('sendTime');
	                	localStorage.removeItem('phone');
	                	localStorage.removeItem('fio');
	                	location.href='/index.php?option=com_gm_ceiling&task=mainpage'
                	}
                	
                },
                error: function(data){
                }
        	});*/
		});

		jQuery('#login_btn').click(function(){
			var username = jQuery('#username').val(), 
				pass = jQuery('#password').val();
			if(username[0] == '8'){
				username = username.replace('8','7',0);
			}
			if(username.indexOf('+7') == 0){
				username = username.replace('+','',0);
			}
			jQuery('#username').val(username);
			//username = username.replace(/[^\d]/g, "");
			jQuery.ajax({
                type: 'POST',
                url: '/index.php?option=com_gm_ceiling&task=users.getDealerIdMap',
                dataType: "json",
                timeout: 20000,
                data: {
                    phone: username,
                    code: pass
                },
                async: true,
                success: function(data){
                	if(empty(data)){
                		jQuery('#form_login').submit();
                	}
                	else{
                		console.log(data);
                		if(!empty(data.error)){
                			noty({
									theme: 'relax',
									timeout: 2000,
									layout: 'center',
									maxVisible: 5,
									type: "error",
									text: data.error
								});
                		}
                		else{
	                		jQuery('#roles_list').empty();
	                		jQuery.each(data,function(n,elem){
	                			jQuery('#roles_list').append(
	                				'<div class="col-md-12 col_margin">'+
										'<button class="btn width_btn login_type" data-id ="'+elem.id+'">'+
											'<span class="type_title">'+elem.title+'</span></br>'+
											'<span class="type_dealer">'+elem.name+'</span>'+
										'</button>'+
									 '</div>');
	                		});
	                		jQuery("#mv_container").show();
							//jQuery("#close").show();
							jQuery('#mw_choose').show();
                		}

                	}

                },
                error: function(data){
                }
        	});
		});

		jQuery("#show_register").click(function(e){
			e.preventDefault();
			jQuery("#mv_container").show();
			jQuery("#modal_window_register").show();
			jQuery("#close").show();
		});

		jQuery('#mw_choose').on('click','.login_type',function(){
			var btn = jQuery(this),
				id = btn.data('id');
			jQuery.ajax({
                type: 'POST',
                url: '/index.php?option=com_gm_ceiling&task=users.changeDataBeforeLogin',
                dataType: "json",
                timeout: 20000,
                data: {
                    id: id
                },
                async: true,
                success: function(data){
        	        jQuery('#form_login').submit();        	
                },
                error: function(data){
                }
        	});
           

		})
		/*jQuery("#registrate_btn").click(function(){
			var fio = jQuery("#fio").val(),
				phone = jQuery("#phone_client").val(),
				isDealer = jQuery("#isDealer").is(':checked') ? 1 : 0,
				city = jQuery("#dealer_city").val(),
				email = jQuery("#dealer_email").val();
				if(!empty(fio) && !empty(phone)){
					if(isDealer && empty(city) && empty(email)){
						if(empty(city)){
							noty({
									theme: 'relax',
									timeout: 2000,
									layout: 'center',
									maxVisible: 5,
									type: "error",
									text: "Не указан город!"
								});
							}
							if(empty(email)){
								noty({
										theme: 'relax',
										timeout: 2000,
										layout: 'center',
										maxVisible: 5,
										type: "error",
										text: "Не указан адрес эл.почты!"
									});
							}
							return false;
					}

					jQuery.ajax({
		                    type: 'POST',
		                    url: '/index.php?option=com_gm_ceiling&task=register_from_login',
		                    dataType: "json",
		                    timeout: 20000,
		                    data: {
		                        phone: phone,
		                        fio: fio,
		                        isDealer: isDealer,
		                        email: email,
		                        city: city,
		                        advt: url_getparams.source
		                    },
		                    async: false,
		                    success: function(data){
									console.log(data);
		                        var n = noty({
		                            theme: 'relax',
		                            timeout: 2000,
		                            layout: 'center',
		                            maxVisible: 5,
		                            type: "success",
		                            text: "Заявка отправлена!"
		                        });

		                    },
		                    error: function(data){
								console.log(data);
		                        var n = noty({
		                            theme: 'relax',
		                            timeout: 2000,
		                            layout: 'center',
		                            maxVisible: 5,
		                            type: "error",
		                            text: data
		                        });
		                    }
		            });
				}
				else{
					if(empty(fio)){
					noty({
							theme: 'relax',
							timeout: 2000,
							layout: 'center',
							maxVisible: 5,
							type: "error",
							text: "Не указано ФИО!"
						});
					}
					if(empty(phone)){
						noty({
								theme: 'relax',
								timeout: 2000,
								layout: 'center',
								maxVisible: 5,
								type: "error",
								text: "Не указан номер телефона!"
							});
					}
				}
		});*/

		jQuery("#get_pass").click(function(){
			registerAndSendPass();
		});

		jQuery('body').on('click','#resend',function(){
			registerAndSendPass(1);
		});


		jQuery('#send_request').click(function(){
			var name = jQuery('#feedback_username').val(),
				email = jQuery('#feedback_email').val(),
				message = jQuery('#message_text').val();
			const EMAIL_REGEXP = /^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;
			if(empty(email)){
    	        noty({
					theme: 'relax',
					timeout: 2000,
					layout: 'center',
					maxVisible: 5,
					type: "warning",
					text: 'Поле email не может быть пустым!'
				});
				return;
			}
			if(!EMAIL_REGEXP.test(email)){
    	        noty({
					theme: 'relax',
					timeout: 2000,
					layout: 'center',
					maxVisible: 5,
					type: "warning",
					text: 'Введите корректный email'
				});
				return;
			}
			if(empty(message)){
				noty({
					theme: 'relax',
					timeout: 2000,
					layout: 'center',
					maxVisible: 5,
					type: "warning",
					text: 'Текст обращения не может быть пустым!'
				});
				return;
			}
			jQuery.ajax({
                type: 'POST',
                url: '/index.php?option=com_gm_ceiling&task=sendFeedback',
                dataType: "json",
                timeout: 20000,
                data: {
                    name: name,
                    email: email,
                    message: message
                },
                async: true,
                success: function(data){
                	jQuery('#feedback_username').val('');
					jQuery('#feedback_email').val('');
					jQuery('#message_text').val('');
        	        noty({
						theme: 'relax',
						timeout: 2000,
						layout: 'center',
						maxVisible: 5,
						type: "success",
						text: 'Заявка успешно отправлена!'
					});
                },
                error: function(data){
        	        noty({
						theme: 'relax',
						timeout: 2000,
						layout: 'center',
						maxVisible: 5,
						type: "error",
						text: 'Непредвиденная ошибка. Пожалуйста, попробуйте позднее'
					});
                }
        	});
		});

		jQuery('#send_to_viber').click(function(){
			location.href = 'viber://chat?number=79202116134';
		});

		jQuery('#send_to_whatsapp').click(function(){
			location.href = 'https://wa.me/79202116134';
		});

		jQuery('#send_to_vk').click(function(){
			location.href = 'vkontakte://profile/-123033551';
		});

		jQuery('#send_to_tg').click(function(){
			location.href = 'https://t.me/gm_partner';
		});

		jQuery('#send_to_viber_pc').click(function(){
			location.href = 'viber://chat?number=79202116134';
		});

		jQuery('#send_to_wapp_pc').click(function(){
			location.href = 'https://wa.me/79202116134';
		});

		jQuery('#send_to_vk_pc').click(function(){
			location.href = 'https://vk.com/club123033551';
		});

		jQuery('#send_to_tg_pc').click(function(){
			location.href = 'https://t.me/gm_partner';
		});



		/*jQuery("#register_btn").click(function(){
			let data = JSON.stringify({name:jQuery("#name").val(),phone:jQuery("#phone").val(),city: jQuery("#city").val(),email: jQuery("#email").val(),type:"web"});
			jQuery.ajax({
                    type: 'POST',
                    url: '/index.php?option=com_gm_ceiling&task=api.register_from_android',
                    dataType: "json",
                    timeout: 20000,
                    data: {
                        r_data: data
                    },
                    async: false,
                    success: function(data){
						if(data['new_id']){
							jQuery("#mv_container").hide();
							jQuery("#modal_window_register").hide();
							jQuery("#close").hide();
							var n = noty({
								theme: 'relax',
								timeout: 2000,
								layout: 'center',
								maxVisible: 5,
								type: "success",
								text: "На указанную почту отправлено письмо с данным для входа, а также инструкция по использованию"
							});
						}
						else{
							var n = noty({
								theme: 'relax',
								timeout: 2000,
								layout: 'center',
								maxVisible: 5,
								type: "error",
								text: data
							});
						}

                    },
                    error: function(data){
						console.log(data);
                        var n = noty({
                            theme: 'relax',
                            timeout: 2000,
                            layout: 'center',
                            maxVisible: 5,
                            type: "error",
                            text: "Произошла ошибка!"
                        });
                    }
            });
		});*/
		function register(){
			console.log(url_getparams.source);
			var fio = jQuery("#fio").val(),
				code = jQuery('.iti__selected-dial-code').text(),
				phone = code + ' '+ jQuery("#phone_client").val(),
				isDealer = jQuery("#isDealer").is(':checked') ? 1 : 0,
				password = jQuery('#pass_client').val(),
				city = jQuery("#dealer_city").val(),
				email = jQuery("#dealer_email").val();
				console.log(email);
				if(!empty(fio) && !empty(phone)){
					if(isDealer && empty(city) && empty(email)){
						if(empty(city)){
							noty({
								theme: 'relax',
								timeout: 2000,
								layout: 'center',
								maxVisible: 5,
								type: "error",
								text: "Не указан город!"
							});
							}
							if(empty(email)){
								noty({
									theme: 'relax',
									timeout: 2000,
									layout: 'center',
									maxVisible: 5,
									type: "error",
									text: "Не указан адрес эл.почты!"
								});
							}
							return false;
					}
					if(empty(password)){
						noty({
							theme: 'relax',
							timeout: 2000,
							layout: 'center',
							maxVisible: 5,
							type: "error",
							text: "Не указан пароль!"
						});
					}

					jQuery.ajax({
		                    type: 'POST',
		                    url: '/index.php?option=com_gm_ceiling&task=registerBySMS',
		                    dataType: "json",
		                    timeout: 20000,
		                    data: {
		                        phone: phone,
		                        fio: fio,
		                        isDealer: isDealer,
		                        email: email,
		                        city: city,
		                        advt: url_getparams.source,
		                        new: 1,
		                        password: password
		                    },
		                    async: false,
		                    success: function(data){
		                    	authSite(data.result.data.client_id);
		                    },
		                    error: function(data){
								console.log(data);
		                        var n = noty({
		                            theme: 'relax',
		                            timeout: 2000,
		                            layout: 'center',
		                            maxVisible: 5,
		                            type: "error",
		                            text: data
		                        });
		                    }
		            });
				}
				else{
					if(empty(fio)){
					noty({
							theme: 'relax',
							timeout: 2000,
							layout: 'center',
							maxVisible: 5,
							type: "error",
							text: "Не указано ФИО!"
						});
					}
					if(empty(phone)){
						noty({
								theme: 'relax',
								timeout: 2000,
								layout: 'center',
								maxVisible: 5,
								type: "error",
								text: "Не указан номер телефона!"
							});
					}
				}
		}

		function authSite(clientId){
			jQuery.ajax({
                type: 'POST',
                url: '/index.php?option=com_gm_ceiling&task=auth',
                dataType: "json",
                timeout: 20000,
                data: {
                    id: clientId
                },
                async: false,
                success: function(data){
                	location.href = '/index.php?option=com_gm_ceiling&task=mainpage';
                },
                error: function(data){
					console.log(data);
                    var n = noty({
                        theme: 'relax',
                        timeout: 2000,
                        layout: 'center',
                        maxVisible: 5,
                        type: "error",
                        text: data
                    });
                }
            });
		}
		function registerAndSendPass(resend = null){
			console.log(url_getparams.source);
			var fio = jQuery("#fio").val(),
				code = jQuery('.iti__selected-dial-code').text(),
				phone = code + ' '+ jQuery("#phone_client").val(),
				isDealer = jQuery("#isDealer").is(':checked') ? 1 : 0,
				city = jQuery("#dealer_city").val(),
				email = jQuery("#dealer_email").val();
				console.log(email);
				if(!empty(fio) && !empty(phone)){
					if(isDealer && empty(city) && empty(email)){
						if(empty(city)){
							noty({
									theme: 'relax',
									timeout: 2000,
									layout: 'center',
									maxVisible: 5,
									type: "error",
									text: "Не указан город!"
								});
							}
							if(empty(email)){
								noty({
										theme: 'relax',
										timeout: 2000,
										layout: 'center',
										maxVisible: 5,
										type: "error",
										text: "Не указан адрес эл.почты!"
									});
							}
							return false;
					}

					jQuery.ajax({
		                    type: 'POST',
		                    url: '/index.php?option=com_gm_ceiling&task=registerBySMS',
		                    dataType: "json",
		                    timeout: 20000,
		                    data: {
		                        phone: phone,
		                        fio: fio,
		                        isDealer: isDealer,
		                        email: email,
		                        city: city,
		                        advt: url_getparams.source,
		                        new: 1,
		                        resend: resend
		                    },
		                    async: false,
		                    success: function(data){
		                    	localStorage.setItem('phone',phone);
								localStorage.setItem('fio',fio);
		                    	console.log(data);
		                    	if(data.type=='error'){
		                    		var n = noty({
			                            theme: 'relax',
			                            timeout: 2000,
			                            layout: 'center',
			                            maxVisible: 5,
			                            type: "error",
			                            text: data.text
			                        });
			                        localStorage.setItem('sendTime',data.sendTime);
			                        countDown(90-data.value);
		                    	}
		                    	else{
									var date = new Date();
									localStorage.setItem('sendTime',date.getTime());
									countDown(90);
		                    	}
		                    	jQuery("#pass_block").show();
								jQuery('#get_pass').prop('disabled',true);

		                    },
		                    error: function(data){
								console.log(data);
		                        var n = noty({
		                            theme: 'relax',
		                            timeout: 2000,
		                            layout: 'center',
		                            maxVisible: 5,
		                            type: "error",
		                            text: data
		                        });
		                    }
		            });
				}
				else{
					if(empty(fio)){
					noty({
							theme: 'relax',
							timeout: 2000,
							layout: 'center',
							maxVisible: 5,
							type: "error",
							text: "Не указано ФИО!"
						});
					}
					if(empty(phone)){
						noty({
								theme: 'relax',
								timeout: 2000,
								layout: 'center',
								maxVisible: 5,
								type: "error",
								text: "Не указан номер телефона!"
							});
					}
				}
		}

		function countDown(seconds) {
			var h,m,s,t;
		    if (seconds > 0) {
		            seconds --;
		                h = seconds/3600 ^ 0,
		                m = (seconds-h*3600)/60 ^ 0,
		                s = seconds-h*3600-m*60,
		                time = (m<10?"0"+m:m)+":"+(s<10?"0"+s:s);
		            jQuery("#resending").text("Повторная отправка станет доступна через "+time);
		            setTimeout(function() {
				        countDown(seconds);
				    }, 1000);
		    }
		    else{
		    	jQuery("#resending").html('Не получили звонок? Получить код повтроно через СМС <br><button class="yellow-btn" id="resend">Получить код</button>');
		    } 
		}
	});


			<script>
		var canCreate = false;
		function getUrlParameter(sParam) {
			var sPageURL = decodeURIComponent(window.location.search.substring(1)),
				sURLVariables = sPageURL.split('&'),
				sParameterName,
				i;

			for (i = 0; i < sURLVariables.length; i++) {
				sParameterName = sURLVariables[i].split('=');

				if (sParameterName[0] === sParam) {
					return sParameterName[1] === undefined ? true : sParameterName[1];
				}
			}
		};
		jQuery(document).mouseup(function (e){ // событие клика по веб-документу
				var div = jQuery('#mw_choose_h'),
					div1 = jQuery('#mw_choose_catalog'); // тут указываем ID элемента
				if (!div.is(e.target) && !div1.is(e.target) // если клик был не по нашему блоку
				    && div.has(e.target).length === 0
				    && div1.has(e.target).length === 0) { // и не по его дочерним элементам
						jQuery("#mw_container_h").hide();
						jQuery("#close_h").hide();
						div.hide();
						div1.hide();
				}
			});


		jQuery( document ).ready(function(){
			checkTariff();
			// хедер для дилера
			var reg_url_dealermainpage = /dealermainpage/,
				reg_url_dealerprofile = /dealerprofile/,
				reg_url_dealerprofile_score = /dealerprofile&type=score/,
				reg_url_fromBAU = /&fromBAU=1/;
			if (reg_url_dealermainpage.test(location.href)) {
				jQuery("#header_config").show();
			} else if (reg_url_dealerprofile_score.test(location.href)) {
				jQuery("#header_home").show();
			} else if (reg_url_dealerprofile.test(location.href)) {
				jQuery("#heder_exit").show();
			} else {
				jQuery("#header_home").show();
			}
			//-----------------------------------
			/*----------------Меню------------------*/
			jQuery('#to_main').click(function(){
				location.href="/index.php?option=com_gm_ceiling&task=mainpage"
			});

			jQuery('#to_catalog').click(function(){
				location.href="/index.php?option=com_gm_ceiling&view=catalog&type=new";
			});
			jQuery('#close_cat_choose').click(function(){
				jQuery('#mw_container_h').hide();
				jQuery('#mw_choose_catalog').hide();
			})

			jQuery('#to_projects').click(function(){
				location.href="/index.php?option=com_gm_ceiling&view=projects"
			});

			jQuery('#to_cart').click(function(){
				location.href="/index.php?option=com_gm_ceiling&view=cart"
			});

			jQuery('#to_profile').click(function(){
				location.href="/index.php?option=com_gm_ceiling&view=profile"
			});
			/*--------------------------------------*/

			var viewName = getUrlParameter('view');

			switch (viewName){
				case 'mainpage':
					jQuery('#to_main').find('img').attr('src','/images/nav_icons/active_home.svg');
					jQuery('#to_main').find('span').addClass('active-nav-span');
					break;
				case 'profile':
					jQuery('#to_profile').find('img').attr('src','/images/nav_icons/active_profile.svg');
					jQuery('#to_profile').find('span').addClass('active-nav-span');
					break;
				case 'cart':
					jQuery('#to_cart').find('img').attr('src','/images/nav_icons/active_cart.svg');
					jQuery('#to_cart').find('span').addClass('active-nav-span');
					break; 
				case 'projects':
					jQuery('#to_projects').find('img').attr('src','/images/nav_icons/active_projects.svg');
					jQuery('#to_projects').find('span').addClass('active-nav-span');
					break; 
				case 'catalog':
					jQuery('#to_catalog').find('img').attr('src','/images/nav_icons/active_catalog.svg');
					jQuery('#to_catalog').find('span').addClass('active-nav-span');
					break;
			}

			jQuery(".section_header" ).click(function(){
				jQuery ( this ).next(".section_content").slideToggle();
			});
			
			jQuery( ".one-touch-view tbody tr td.one-touch" ).click(function(){
				var go_to = jQuery( this ).closest("tr").data("href");
				location.href = go_to;	
			});

			var fromApp = '';
			if(fromApp){
				jQuery('header').hide();
				jQuery('#footer').hide();
			}
			/*смена типа учетки*/
			var map = JSON.parse('[]'),
				changeBtn = '<button class="btn btn-primary" type="button" id="change_type"><i class="fas fa-retweet"></i></button>';
			if(!empty(map)){
				jQuery('.logout-button').append(changeBtn);
				if(reg_url_fromBAU.test(location.href)){
					jQuery('#mw_container_h').show();
					jQuery('#close_h').show();
					jQuery('#mw_choose_h').show();
				}
			}

			jQuery('body').on('click','#change_type',function(){
				jQuery('#mw_container_h').show();
				//jQuery('#close_h').show();
				jQuery('#mw_choose_h').show();
			});

			jQuery('body').on('click','.close',function(){
				if(jQuery(this).closest('.modal_window').length){
					jQuery(this).closest('.modal_window').hide();
					jQuery(this).closest('.modal_window_container').hide();
				 	return;
				}
				if(jQuery(this).closest('.popup_window').length) {
					var popupParent = jQuery(this).closest('.popup_window');
					if(popupParent.data('related')){
						popupParent.hide();
						popupParent.removeClass('active_window');
						jQuery('#'+popupParent.data('related')).show();
						jQuery('#'+popupParent.data('related')).addClass('active_window');
					}
					else{
						popupParent.hide();
					}
				}
				else{
					location.href = '/index.php?option=com_gm_ceiling&view=mainpage';
				}
			});

			jQuery('body').on('click','.back',function(){
				var popupParent = jQuery(this).closest('.popup_window');
				if(popupParent.length){
					if(popupParent.data('related')){
						popupParent.hide();
						popupParent.removeClass('active_window');
						jQuery('#'+popupParent.data('related')).show();
						jQuery('#'+popupParent.data('related')).addClass('active_window');
					}
					else{
						popupParent.hide();
					}
				}
				else{
					history.back();
				}
			});

			jQuery('#mw_choose_h').on('click','.login_type',function(){
				var btn = jQuery(this),
					id = btn.data('id');
				jQuery.ajax({
	                type: 'POST',
	                url: '/index.php?option=com_gm_ceiling&task=users.changeDataBeforeLogin',
	                dataType: "json",
	                timeout: 20000,
	                data: {
	                    id: id
	                },
	                async: true,
	                success: function(data){
	        	       location.href ='/index.php?option=com_gm_ceiling&task=mainpage';   	
	                },
	                error: function(data){
	                }
	        	});
			})
				
			if(jQuery("div").is("#system-message")) {
				jQuery(".alert").each(function(){
					var alert_message = jQuery( this );
					alert_message.find(".alert-message").each(function(){
						var text_msg = jQuery( this ).text(),
							type_msg = "information",
							parent_message = jQuery( this ).parent("div").parent(".alert");
						
						if( parent_message.hasClass("alert-error") ) {
							type_msg = "error";
						}
						if( parent_message.hasClass("alert-notice") ) {
							type_msg = "information";
						}
						if( parent_message.hasClass("alert-success") ) {
							type_msg = "success";
						}
						if( parent_message.hasClass("alert-warning") ) {
							type_msg = "warning";
						}
						var n = noty({
							theme: 'relax',
							layout: 'center',
							maxVisible: 5,
							type: type_msg,
							text: text_msg,
							closeWith: ['hover','click'],
							timeout: 2000
						});
					});
				});
				jQuery("#system-message-container").detach();
			}

			reduceGTable();
			jQuery(window).bind('resize', reduceGTable);
		});

		function getParentElem(el, parentTagName) {
		    var obj = el;
		    while (obj.tagName !== parentTagName) {
		        obj = obj.parentNode;
		    }
		    return obj;
		}
		
		function reduseFontInGTable(p, t) {
			var fs;
			if (p.clientWidth < t.clientWidth) {
				fs = jQuery(t).css('font-size');
				fs = fs.replace(/[^\d]/g, '') - 0;
				fs--;
				jQuery(t).css('font-size', fs + 'px')
				setTimeout(reduseFontInGTable, 5, p, t);
			}
		}

		function reduceGTable() {
			var g_tables = document.getElementsByClassName('g_table');
			var parent, tds;
			for(var i = g_tables.length; i--;) {
				parent = getParentElem(g_tables[i],'DIV');
				if (parent.clientWidth < g_tables[i].clientWidth) {
					tds = g_tables[i].getElementsByTagName('TD');
					for(var j = tds.length; j--;) {
						jQuery(tds[j]).css('padding', '1px');
					}
					tds = g_tables[i].getElementsByTagName('TH');
					for(var j = tds.length; j--;) {
						jQuery(tds[j]).css('padding', '1px');
					}
				}
				setTimeout(reduseFontInGTable, 5, parent, g_tables[i]);
			}
		}

		function empty( mixed_var ) {
		    return (mixed_var === "" ||
		        (mixed_var - 0) === 0 ||
		        mixed_var === "0" ||
		        mixed_var === null ||
		        mixed_var === false ||
		        (mixed_var instanceof Array && mixed_var.length === 0) ||
		        mixed_var === "[]" ||
		        mixed_var ==="{}" ||
		        mixed_var === "null" ||
		        mixed_var === undefined ||
		        mixed_var === "undefined" ||
		        mixed_var === {} ||
		        (mixed_var instanceof String && mixed_var.trim() === "") ||
		        mixed_var === "0000-00-00" ||
		        mixed_var === "0000-00-00 00:00:00"
		    );
		}

		function formatDate(date,withHours = 0) {

                var dd = date.getDate();
                if (dd < 10) dd = '0' + dd;

                var mm = date.getMonth() + 1;
                if (mm < 10) mm = '0' + mm;

                var yy = date.getFullYear();
                if (yy < 10) yy = '0' + yy;

                var hh = date.getHours();
                if (hh < 10) hh = '0' + hh;

                var ii = date.getMinutes();
                if (ii < 10) ii = '0' + ii;

                var ss = date.getSeconds();
                if (ss < 10) ss = '0' + ss;

                var result = !empty(withHours) ? dd + '.' + mm + '.' + yy + ' ' + hh + ':' + ii + ':' + ss : dd + '.' + mm + '.' + yy;

                return result;
            }
        function checkTariff(){
            jQuery.ajax({
                type: 'POST',
                url: "index.php?option=com_gm_ceiling&task=users.checkTariff",
                async: false,
                data: {},
                success: function (data) {
                    canCreate = data == 1;
                },
                dataType: "text",
                timeout: 10000,
                error: function (data) {

                }
            });
        }
		
	</script>
	
	

</div></div></body></html>